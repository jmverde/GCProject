<!DOCTYPE html>
<!-- saved from url=(0014)about:internet -->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

<title>GCProject</title>

<style type="text/css">
body, td {
   font-family: sans-serif;
   background-color: white;
   font-size: 12px;
   margin: 8px;
}

tt, code, pre {
   font-family: 'DejaVu Sans Mono', 'Droid Sans Mono', 'Lucida Console', Consolas, Monaco, monospace;
}

h1 { 
   font-size:2.2em; 
}

h2 { 
   font-size:1.8em; 
}

h3 { 
   font-size:1.4em; 
}

h4 { 
   font-size:1.0em; 
}

h5 { 
   font-size:0.9em; 
}

h6 { 
   font-size:0.8em; 
}

a:visited {
   color: rgb(50%, 0%, 50%);
}

pre {	
   margin-top: 0;
   max-width: 95%;
   border: 1px solid #ccc;
   white-space: pre-wrap;
}

pre code {
   display: block; padding: 0.5em;
}

code.r, code.cpp {
   background-color: #F8F8F8;
}

table, td, th {
  border: none;
}

blockquote {
   color:#666666;
   margin:0;
   padding-left: 1em;
   border-left: 0.5em #EEE solid;
}

hr {
   height: 0px;
   border-bottom: none;
   border-top-width: thin;
   border-top-style: dotted;
   border-top-color: #999999;
}

@media print {
   * { 
      background: transparent !important; 
      color: black !important; 
      filter:none !important; 
      -ms-filter: none !important; 
   }

   body { 
      font-size:12pt; 
      max-width:100%; 
   }
       
   a, a:visited { 
      text-decoration: underline; 
   }

   hr { 
      visibility: hidden;
      page-break-before: always;
   }

   pre, blockquote { 
      padding-right: 1em; 
      page-break-inside: avoid; 
   }

   tr, img { 
      page-break-inside: avoid; 
   }

   img { 
      max-width: 100% !important; 
   }

   @page :left { 
      margin: 15mm 20mm 15mm 10mm; 
   }
     
   @page :right { 
      margin: 15mm 10mm 15mm 20mm; 
   }

   p, h2, h3 { 
      orphans: 3; widows: 3; 
   }

   h2, h3 { 
      page-break-after: avoid; 
   }
}

</style>





</head>

<body>
<h1>GCProject</h1>

<p>This is a script created for the project of the coursera course &ldquo;Getting and cleaning the data&rdquo;</p>

<p>The project folder contains the cleanin script named &ldquo;run_analysis.R&rdquo;, the raw data in the directory &ldquo;rawData&rdquo; documentation files and the directory procData that contains the resulting datafile </p>

<p>Full information about raw data can be found into the readme file included ih the raw data directory </p>

<h1>The run_analisys script:</h1>

<h3>Dependences</h3>

<p><em>plyr</em> library</p>

<h3>script at work</h3>

<ol>
<li><p>Data about subject for the test set is read from ./rawData/test/subject_test.txt using read.table (this will be the function used for reading the txt files in the following)</p></li>
<li><p>Measurementes for the test set read from ./rawData/test/X_test.txt</p></li>
<li><p>Ids for activity for the test set read from ./rawData/test/Y_test.txt</p></li>
<li><p>Column for subject information is given the name &ldquo;subject&rdquo; in the subject information data frame</p></li>
<li><p>Column for activity codes is given the name &ldquo;activityLabel&rdquo; in the activity codes data frame </p></li>
<li><p>Variable names for the measurements are readen from ./rawData/features.txt</p></li>
<li><p>Variable names for the measurements are asigned using the ones readen </p></li>
<li><p>Subject, activityID and measurements dataframes are combined onto a new data frame using cbind</p></li>
<li><p>A new variable named &ldquo;set&rdquo; is created in this dataframe and filled with the &ldquo;test&rdquo; value to keep track of the origing of the data</p></li>
<li><p>Data about subject for the train set is read from ./rawData/train/subject_train.txt </p></li>
<li><p>Measurementes for the train set read from ./rawData/train/X_train.txt</p></li>
<li><p>Ids for activity for the train set read from ./rawData/train/Y_test.txt</p></li>
<li><p>Column for subject information is given the name &ldquo;subject&rdquo; in the subject information data frame</p></li>
<li><p>Column for activity codes is given the name &ldquo;activityLabel&rdquo; in the activity codes data frame </p></li>
<li><p>Variable names for the measurements are readen from ./rawData/features.txt</p></li>
<li><p>Variable names for the measurements are asigned using the ones readen     </p></li>
<li><p>Subject, activityID and measurements dataframes are combined onto a new data frame using cbind</p></li>
<li><p>A new variable named &ldquo;set&rdquo; is created in this dataframe and filled with the &ldquo;training&rdquo; value to keep track of the origing of the data    </p></li>
<li><p>Train data and test data dataframes are combined onto a new one using rbind since variables are stored in the two files in the same order <strong>Step 1 is done</strong></p></li>
<li><p>grep is used to detect the columns with &ldquo;mean()&rdquo; or &ldquo;std()&rdquo; in their names and the resulting list is used to subset the desired variables</p></li>
<li><p>The subsetted variables are stored in a new data frame <strong>Step 2 is done</strong></p></li>
<li><p>Names for the activities are read from ./rawData/activity_labels.txt and stored into a dataframe (it is more convinient than using a list since you can use the data frame as a dictionary) </p></li>
<li><p>Names in the activity names dataframe is converted to lowercase and underscores are removed from them</p></li>
<li><p>Using the activity names dataframe activity ids are substituted with its name </p></li>
<li><p>Since the variable is containing ids no longer the name of the variable is changed to &ldquo;activity&rdquo; <strong>Point 3 is done</strong></p></li>
<li><p>Variable names are processed using the following substitutions:  </p>

<ul>
<li>Replace &ldquo;BodyBody&rdquo; with &ldquo;Body&rdquo; to solve a Typo in the original data</li>
<li>Replace leading &ldquo;t&rdquo; with  &ldquo;timedomain&rdquo; </li>
<li>Replace leading &ldquo;f&rdquo; with &ldquo;frecuencydomain&rdquo;</li>
<li>Replace &ldquo;Body&rdquo; with &ldquo;body&rdquo;</li>
<li>Replace &ldquo;Gravity&rdquo; with &ldquo;gravity&rdquo;</li>
<li>Replace &ldquo;ACC&rdquo; with &ldquo;acceleration&rdquo;</li>
<li>Replace &ldquo;Gyro&rdquo; with &ldquo;angularvelocity&rdquo;</li>
<li>Replace &ldquo;Jerk&rdquo; with &ldquo;jerk&rdquo;</li>
<li>Replace &ldquo;Mag&rdquo; with &ldquo;magnitude&rdquo;</li>
<li>Replace &ldquo;-mean()&rdquo; with &ldquo;mean&rdquo;</li>
<li>Replace &ldquo;-std()&rdquo; with &ldquo;standarddeviation&rdquo;</li>
<li>Replace &ldquo;-X&rdquo; with &ldquo;xaxis&rdquo;</li>
<li>Replace &ldquo;-Y&rdquo; with &ldquo;yaxis&rdquo;</li>
<li>Replace &ldquo;-Z&rdquo; with &ldquo;zaxis&rdquo;</li>
</ul></li>
<li><p><strong>Point 4 is done</strong> (I would have suggested using dashes to improve readibility, but those names were done as instructed in the assigment)</p></li>
<li><p>Use ddply from plyr library to summarize the resulting  dataset using the activity and subject columns to split in groups the data set, and average of all other numerical variables. This produces a table with the average of all measurements we selected divided by subject and activity name.</p></li>
<li><p>The resulting dataset is tidy, so <strong>P5 is done</strong></p></li>
<li><p>Finally, the resulting data frame is stored in ./procData/finalData.txt using write.table and the resulting dataframe is returned as was instructed</p></li>
<li><p>Thaks to everyone that has readen this whole readme for the attention </p></li>
</ol>

</body>

</html>

